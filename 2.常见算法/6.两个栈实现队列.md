# 两个栈实现队列

## 思路

stack1 作为存储空间，stack2 作为临时缓冲区。

- 入队时：将元素压入 stack1；
- 出队时：
  1. 判断 stack2 是否为空；
  2. 若 stack2 不为空，则直接弹出顶元素；
  3. 否则，判断 stack1 是否为空；
  4. 若 stack1 为空，直接返回null（无数据）；
  5. 否则，将 stack1 的元素逐个弹出，并压入 stack2，将 stack2 栈顶元素弹出作为出队元素。

## 代码实现

```java
public class TwoStacksToQueue<E> {

    /**
     * stack1 作为存储空间，stack2 作为临时缓冲区。
     * <p>
     * - 入队时：将元素压入 stack1；
     * - 出队时：
     * 1. 判断 stack2 是否为空；
     * 2. 若 stack2 不为空，则直接弹出顶元素；
     * 3. 否则，判断 stack1 是否为空；
     * 4. 若 stack1 为空，直接返回null（无数据）；
     * 5. 否则，将 stack1 的元素逐个弹出，并压入 stack2，将 stack2 栈顶元素弹出作为出队元素。
     */

    private final Stack<E> stack1 = new Stack<>();
    private final Stack<E> stack2 = new Stack<>();

    /**
     * 入栈
     *
     */
    public void push(E e) {
        // 入栈stack1
        stack1.push(e);
    }

    /**
     * 出栈
     */
    public E pop() {
        // stack2不为空，弹出栈顶元素
        if (!stack2.isEmpty()) {
            return stack2.pop();
        }
        // 若stack1为空，则无元素，返回null
        if (stack1.isEmpty()) {
            return null;
        }
        // 若stack1不为空
        while (!stack1.isEmpty()) {
            // stack1依次弹出栈顶元素，压入stack2
            stack2.push(stack1.pop());
        }
        // stack2弹出栈顶元素，作为出队元素
        return stack2.pop();
    }

    public int size() {
        return stack1.size() + stack2.size();
    }

    public static void main(String[] args) {
        TwoStacksToQueue<Integer> queue = new TwoStacksToQueue<>();
        queue.push(1);
        queue.push(2);
        queue.push(3);
        System.out.println(queue.pop()); // 1
        System.out.println(queue.pop()); // 2
        queue.push(4);
        System.out.println(queue.pop()); // 3
        System.out.println(queue.pop()); // 4
    }

}
```

